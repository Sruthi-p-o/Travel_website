{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { getAuth, signInWithPopup, GithubAuthProvider, signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile, GoogleAuthProvider, signOut, onAuthStateChanged } from \"firebase/auth\";\nimport initializeAuthentication from \"../Firebase/firebase.init\";\ninitializeAuthentication();\nconst useFirebase = () => {\n  _s();\n  const [user, setUser] = useState({});\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  const auth = getAuth();\n\n  // Google sign in\n  const signInWithGoogle = () => {\n    setIsLoading(true);\n    const googleProvider = new GoogleAuthProvider();\n    return signInWithPopup(auth, googleProvider);\n  };\n\n  // Github sign in\n  const signInWithGithub = () => {\n    setIsLoading(true);\n    const githubProvider = new GithubAuthProvider();\n    return signInWithPopup(auth, githubProvider);\n  };\n\n  // Process login with email and pass\n  const processLogin = (email, password) => {\n    setIsLoading(true);\n    return signInWithEmailAndPassword(auth, email, password);\n  };\n\n  //  Create user with EmailPassword\n  const createNewUser = (name, email, password) => {\n    setIsLoading(true);\n    return createUserWithEmailAndPassword(auth, email, password);\n  };\n\n  //  update name in firebase\n  const updateName = name => {\n    setIsLoading(true);\n    updateProfile(auth.currentUser, {\n      displayName: name\n    }).then(() => {\n      console.log(\"Name Updated\");\n      setError(\"\");\n    }).catch(error => {\n      setError(error.message);\n    }).finally(() => setIsLoading(false));\n  };\n\n  // observe user state change\n  useEffect(() => {\n    const unsubscribed = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser({});\n      }\n      setIsLoading(false);\n    });\n    return () => unsubscribed;\n  }, [auth]);\n\n  // Sign out\n  const logOut = () => {\n    setIsLoading(true);\n    signOut(auth).then(() => {\n      // Sign-out successful.\n      setError(\"\");\n      setSuccess(\"\");\n    }).catch(error => {\n      setError(error.message);\n    }).finally(() => setIsLoading(false));\n  };\n  return {\n    user,\n    error,\n    success,\n    isLoading,\n    setUser,\n    setError,\n    setSuccess,\n    setIsLoading,\n    updateName,\n    signInWithGoogle,\n    signInWithGithub,\n    createNewUser,\n    processLogin,\n    logOut\n  };\n};\n_s(useFirebase, \"+Qly7Dg/WsozZR9YnPIQwZ3LFIk=\");\nexport default useFirebase;","map":{"version":3,"names":["useEffect","useState","getAuth","signInWithPopup","GithubAuthProvider","signInWithEmailAndPassword","createUserWithEmailAndPassword","updateProfile","GoogleAuthProvider","signOut","onAuthStateChanged","initializeAuthentication","useFirebase","_s","user","setUser","error","setError","success","setSuccess","isLoading","setIsLoading","auth","signInWithGoogle","googleProvider","signInWithGithub","githubProvider","processLogin","email","password","createNewUser","name","updateName","currentUser","displayName","then","console","log","catch","message","finally","unsubscribed","logOut"],"sources":["/home/shanks/Desktop/travel react firebase 3.0/travel react firebase/tourism-website-travele/src/Hooks/useFirebase.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getAuth, signInWithPopup, GithubAuthProvider, signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile, GoogleAuthProvider, signOut, onAuthStateChanged } from \"firebase/auth\";\nimport initializeAuthentication from \"../Firebase/firebase.init\";\n\ninitializeAuthentication();\n\nconst useFirebase = () => {\n  const [user, setUser] = useState({});\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n\n  const auth = getAuth();\n\n  // Google sign in\n  const signInWithGoogle = () => {\n    setIsLoading(true);\n    const googleProvider = new GoogleAuthProvider();\n\n    return signInWithPopup(auth, googleProvider);\n  };\n\n  // Github sign in\n  const signInWithGithub = () => {\n    setIsLoading(true);\n    const githubProvider = new GithubAuthProvider();\n\n    return signInWithPopup(auth, githubProvider);\n  };\n\n  // Process login with email and pass\n  const processLogin = (email, password) => {\n    setIsLoading(true);\n    return signInWithEmailAndPassword(auth, email, password);\n  };\n\n  //  Create user with EmailPassword\n  const createNewUser = (name, email, password) => {\n    setIsLoading(true);\n    return createUserWithEmailAndPassword(auth, email, password);\n  };\n\n  //  update name in firebase\n  const updateName = (name) => {\n    setIsLoading(true);\n    updateProfile(auth.currentUser, { displayName: name })\n      .then(() => {\n        console.log(\"Name Updated\");\n        setError(\"\");\n      })\n      .catch((error) => {\n        setError(error.message);\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  // observe user state change\n  useEffect(() => {\n    const unsubscribed = onAuthStateChanged(auth, (user) => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser({});\n      }\n      setIsLoading(false);\n    });\n    return () => unsubscribed;\n  }, [auth]);\n\n  // Sign out\n  const logOut = () => {\n    setIsLoading(true);\n    signOut(auth)\n      .then(() => {\n        // Sign-out successful.\n        setError(\"\");\n        setSuccess(\"\");\n      })\n      .catch((error) => {\n        setError(error.message);\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  return {\n    user,\n    error,\n    success,\n    isLoading,\n    setUser,\n    setError,\n    setSuccess,\n    setIsLoading,\n    updateName,\n    signInWithGoogle,\n    signInWithGithub,\n    createNewUser,\n    processLogin,\n    logOut\n  };\n};\n\nexport default useFirebase;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}